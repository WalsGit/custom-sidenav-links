{"version":3,"sources":["webpack://@davwheat/custom-sidenav-links/webpack/bootstrap","webpack://@davwheat/custom-sidenav-links/external \"flarum.core.compat['app']\"","webpack://@davwheat/custom-sidenav-links/external \"flarum.core.compat['common/components/Button']\"","webpack://@davwheat/custom-sidenav-links/./src/common/models/SideNavLink.ts","webpack://@davwheat/custom-sidenav-links/external \"flarum.core.compat['common/utils/extractText']\"","webpack://@davwheat/custom-sidenav-links/external \"flarum.core.compat['common/components/Switch']\"","webpack://@davwheat/custom-sidenav-links/external \"flarum.core.compat['common/Component']\"","webpack://@davwheat/custom-sidenav-links/external \"flarum.core.compat['components/ExtensionPage']\"","webpack://@davwheat/custom-sidenav-links/external \"flarum.core.compat['common/components/LoadingIndicator']\"","webpack://@davwheat/custom-sidenav-links/external \"flarum.core.compat['common/components/Select']\"","webpack://@davwheat/custom-sidenav-links/external \"flarum.core.compat['common/utils/saveSettings']\"","webpack://@davwheat/custom-sidenav-links/external \"flarum.core.compat['common/components/Modal']\"","webpack://@davwheat/custom-sidenav-links/./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack://@davwheat/custom-sidenav-links/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@davwheat/custom-sidenav-links/./src/admin/components/Input.tsx","webpack://@davwheat/custom-sidenav-links/./src/admin/components/Select.tsx","webpack://@davwheat/custom-sidenav-links/./src/admin/isValidUrl.ts","webpack://@davwheat/custom-sidenav-links/./src/admin/components/AddLinkModal.tsx","webpack://@davwheat/custom-sidenav-links/./src/admin/components/SettingsPage.tsx","webpack://@davwheat/custom-sidenav-links/./src/admin/index.ts"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","flarum","core","compat","SideNavLink","icon","text","url","internal","this","fromJsObject","obj","toString","JSON","stringify","toJSON","_setPrototypeOf","setPrototypeOf","__proto__","_inheritsLoose","subClass","superClass","constructor","SettingValueInput","view","type","aria-labelled-by","attrs","labelId","className","placeholder","extractText","disabled","onchange","onChange","e","target","Component","options","isValidUrl","str","URL","_","protocol","hostname","includes","translate","data","app","translator","trans","AddLinkModal","loading","newLink","title","content","validUrl","class","newValue","state","isValid","getButtonText","trim","onsubmit","hide","links","push","Modal","linkDataSettingsKey","FakeDataPage","isDirty","isAnyUrlInvalid","rawLinkData","settings","linkData","linkPosition","showTopSpacer","showBottomSpacer","oninit","vnode","createData","val","makeDirty","onclick","modal","show","id","map","link","data-column","length","confirm","splice","saveSettings","json","rawData","freeze","parse","finalData","forEach","snl","preventDefault","alerts","clear","then","onSettingsSaved","ExtensionPage","initializers","add","extensionData","registerPage","SettingsPage"],"mappings":"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","file":"admin.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 15);\n","module.exports = flarum.core.compat['app'];","module.exports = flarum.core.compat['common/components/Button'];","export interface SideNavLinkJSObject {\n  icon: string\n  text: string\n  url: string\n  internal: boolean\n}\n\nexport type LinksPosition = 'above-tags-link' | 'below-tags-link'\n\nexport default class SideNavLink {\n  /**\n   * Create instance of SideNavLink\n   *\n   * @param icon FontAwesome icon classes (e.g. `fas fa-link`)\n   * @param text Link text (e.g. `My cool site`)\n   * @param url Link URL (e.g. `https://flarum.org/`)\n   * @param internal Is link within forum? (e.g. `false`)\n   */\n  constructor(public icon: string, public text: string, public url: string, public internal: boolean) {\n    this.icon = icon\n    this.text = text\n    this.url = url\n    this.internal = internal || false\n  }\n\n  static fromJsObject(obj: SideNavLinkJSObject) {\n    return new SideNavLink(obj.icon, obj.text, obj.url, obj.internal)\n  }\n\n  public toString() {\n    return JSON.stringify({ icon: this.icon, text: this.text, url: this.url, internal: this.internal })\n  }\n\n  public toJSON() {\n    return { icon: this.icon, text: this.text, url: this.url, internal: this.internal }\n  }\n}\n","module.exports = flarum.core.compat['common/utils/extractText'];","module.exports = flarum.core.compat['common/components/Switch'];","module.exports = flarum.core.compat['common/Component'];","module.exports = flarum.core.compat['components/ExtensionPage'];","module.exports = flarum.core.compat['common/components/LoadingIndicator'];","module.exports = flarum.core.compat['common/components/Select'];","module.exports = flarum.core.compat['common/utils/saveSettings'];","module.exports = flarum.core.compat['common/components/Modal'];","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  setPrototypeOf(subClass, superClass);\n}","import Component from 'flarum/common/Component'\nimport extractText from 'flarum/common/utils/extractText'\n\nexport default class SettingValueInput extends Component {\n  view() {\n    return (\n      <input\n        type=\"text\"\n        aria-labelled-by={this.attrs.labelId}\n        className={`FormControl ${this.attrs.class}`}\n        placeholder={extractText(this.attrs.placeholder)}\n        disabled={!!this.attrs.disabled}\n        value={this.attrs.value}\n        onchange={this.onChange.bind(this)}\n      />\n    )\n  }\n\n  onChange(e: InputEvent) {\n    if (typeof this.attrs.onChange === 'function') {\n      // @ts-ignore\n      const target: HTMLInputElement = e.target\n      this.attrs.onChange(target.value, target)\n    }\n  }\n}\n","import Component from 'flarum/common/Component'\nimport Select from 'flarum/common/components/Select'\n\nexport default class SettingValueInput extends Component {\n  view() {\n    return (\n      <Select\n        type=\"text\"\n        className={`FormControl ${this.attrs.class}`}\n        disabled={!!this.attrs.disabled}\n        value={this.attrs.value}\n        onchange={this.onChange.bind(this)}\n        options={this.attrs.options}\n      />\n    )\n  }\n\n  onChange(value: string) {\n    if (typeof this.attrs.onChange === 'function') {\n      this.attrs.onChange(value)\n    }\n  }\n}\n","/**\n * Returns `true` if provided a valid URL, else `false`.\n *\n * A URL is considered valid if it...\n * - uses http or https protocols\n * - contains a `.` in the hostname\n * - is parsable with `new URL(...)`\n *\n * @param str URL string\n */\nexport default function isValidUrl(str: string) {\n  let url: URL\n\n  try {\n    url = new URL(str)\n  } catch (_) {\n    return false\n  }\n\n  return (url.protocol === 'http:' || url.protocol === 'https:') && url.hostname.includes('.')\n}\n","import Modal from 'flarum/common/components/Modal'\n\nimport Button from 'flarum/common/components/Button'\nimport Switch from 'flarum/common/components/Switch'\nimport Input from './Input'\n\nimport extractText from 'flarum/common/utils/extractText'\n\nimport SideNavLink from '../../common/models/SideNavLink'\nimport isValidUrl from '../isValidUrl'\n\nconst translate = (key: string, data?: Record<string, unknown>): string[] =>\n  app.translator.trans(`davwheat.custom_sidenav_links.admin.settings_page.new_link_modal.${key}`, data)\n\nexport default class AddLinkModal extends Modal {\n  private loading = false\n  private newLink: SideNavLink = new SideNavLink('', '', '', false)\n\n  className() {\n    return 'davwheat-sidenav-AddLinkModal Modal--small'\n  }\n\n  title() {\n    return extractText(translate('title'))\n  }\n\n  content() {\n    const validUrl = isValidUrl(this.newLink.url)\n\n    return (\n      <div className=\"Modal-body\">\n        <div className=\"Form\">\n          <div className=\"Form-group\">\n            <div>\n              <label>\n                {translate('labels.icon')}\n                <div class=\"icon-preview-container\">\n                  <span class={`icon-preview fa-fw ${this.newLink.icon}`} title={translate('table.icon_preview_tooltip')} />\n                  <Input\n                    value={this.newLink.icon}\n                    onChange={(newValue: string) => {\n                      this.newLink.icon = newValue\n                    }}\n                    placeholder={translate('placeholders.icon')}\n                    disabled={false}\n                  />\n                </div>\n              </label>\n            </div>\n\n            <div>\n              <label>\n                {translate('labels.text')}\n                <Input\n                  value={this.newLink.text}\n                  onChange={(newValue: string) => {\n                    this.newLink.text = newValue\n                  }}\n                  placeholder={translate('placeholders.text')}\n                  disabled={false}\n                />\n              </label>\n            </div>\n\n            <div>\n              <label>\n                {translate('labels.url')}\n                <Input\n                  class={!validUrl && 'sidenav-input--invalid'}\n                  value={this.newLink.url}\n                  onChange={(newValue: string) => {\n                    this.newLink.url = newValue\n                  }}\n                  placeholder={translate('placeholders.url')}\n                  disabled={false}\n                />\n              </label>\n            </div>\n\n            <div>\n              <Switch\n                state={this.newLink.internal}\n                onchange={(newValue: boolean) => {\n                  this.newLink.internal = newValue\n                }}\n                disabled={false}\n              >\n                {translate('labels.internal')}\n              </Switch>\n            </div>\n\n            <Button className=\"Button Button--primary\" type=\"submit\" disabled={!validUrl || this.loading || !this.isValid()} loading={this.loading}>\n              {this.getButtonText(validUrl)}\n            </Button>\n          </div>\n        </div>\n      </div>\n    )\n  }\n\n  getButtonText(validUrl: boolean): string[] {\n    if (!validUrl) return translate('submit_btn.fix_url')\n    if (this.loading) return translate('submit_btn.loading')\n    if (!this.isValid()) return translate('submit_btn.invalid_form')\n\n    return translate('submit_btn.add')\n  }\n\n  isValid() {\n    return this.newLink.icon.trim() !== '' && this.newLink.text.trim() !== '' && this.newLink.url.trim() !== ''\n  }\n\n  onsubmit() {\n    this.loading = true\n    this.hide.bind(this)()\n\n    this.attrs.links.push(this.newLink)\n  }\n}\n","import app from 'flarum/app'\nimport ExtensionPage from 'flarum/components/ExtensionPage'\n\nimport Button from 'flarum/common/components/Button'\nimport Switch from 'flarum/common/components/Switch'\nimport LoadingIndicator from 'flarum/common/components/LoadingIndicator'\nimport Input from './Input'\nimport Select from './Select'\n\nimport saveSettings from 'flarum/common/utils/saveSettings'\nimport extractText from 'flarum/common/utils/extractText'\n\nimport { default as SideNavLink, LinksPosition, SideNavLinkJSObject } from '../../common/models/SideNavLink'\nimport isValidUrl from '../isValidUrl'\nimport AddLinkModal from './AddLinkModal'\n\nconst linkDataSettingsKey = `davwheat-custom-sidenav-links.link-data`\n\nconst translate = (key: string, data?: Record<string, unknown>): string[] =>\n  app.translator.trans(`davwheat.custom_sidenav_links.admin.settings_page.${key}`, data)\n\nexport default class FakeDataPage extends ExtensionPage {\n  private loading = false\n  private isDirty = false\n  private isAnyUrlInvalid = false\n\n  /**\n   * IMPORTANT: Only evaluated on first draw! Edits to the link data are only performed to `this.linkData`.\n   */\n  private rawLinkData: string = app.data.settings['davwheat-custom-sidenav-links.link-data']\n  private linkData: SideNavLink[] | null = null\n\n  private linkPosition: LinksPosition = app.data.settings['davwheat-custom-sidenav-links.position'] || 'above-tags-link'\n  private showTopSpacer: boolean = app.data.settings['davwheat-custom-sidenav-links.top-spacer'] || true\n  private showBottomSpacer: boolean = app.data.settings['davwheat-custom-sidenav-links.bottom-spacer'] || true\n\n  oninit(vnode) {\n    super.oninit(vnode)\n\n    this.createData()\n  }\n\n  content() {\n    // Non-existant\n    if (!this.rawLinkData) {\n      return (\n        <p>\n          My settings key (<code>{linkDataSettingsKey}</code>) is missing from your database! Make sure you've run the migrations. If that doesn't work, add it\n          to your settings table manually with the content <code>[]</code>.\n        </p>\n      )\n    } else if (!this.linkData) {\n      return (\n        <div class=\"davwheat-ext-settings\">\n          <form>\n            <LoadingIndicator />\n          </form>\n        </div>\n      )\n    }\n\n    let isAnyUrlInvalid = false\n\n    return (\n      <div class=\"davwheat-ext-settings\">\n        <form>\n          <section className=\"davwheat-sidenav-addlink davwheat-custom-sidenav-links--display-options\">\n            <h2>{translate('display_options.heading')}</h2>\n\n            <label>\n              {translate('display_options.labels.position')}\n\n              <Select\n                value={this.linkPosition}\n                options={{\n                  'above-tags-link': translate('display_options.options.position.above-tags-link'),\n                  'below-tags-link': translate('display_options.options.position.below-tags-link'),\n                }}\n                disabled={this.loading}\n                onChange={(val: LinksPosition) => {\n                  this.linkPosition = val\n                  this.makeDirty()\n                }}\n              />\n            </label>\n\n            <label>\n              {translate('display_options.labels.top_spacer')}\n\n              <Switch\n                state={this.showTopSpacer}\n                disabled={this.loading}\n                onchange={(val: boolean) => {\n                  this.showTopSpacer = val\n                  this.makeDirty()\n                }}\n              />\n            </label>\n\n            <label>\n              {translate('display_options.labels.bottom_spacer')}\n\n              <Switch\n                state={this.showBottomSpacer}\n                disabled={this.loading}\n                onchange={(val: boolean) => {\n                  this.showBottomSpacer = val\n                  this.makeDirty()\n                }}\n              />\n            </label>\n          </section>\n        </form>\n        <form>\n          <section class=\"davwheat-sidenav-addlink\">\n            <h2>{translate('link_table.heading')}</h2>\n            <Button\n              class=\"Button davwheat-sidenav-addlink-btn\"\n              icon=\"fas fa-plus\"\n              onclick={() => {\n                app.modal.show(AddLinkModal, { links: this.linkData })\n                this.makeDirty()\n              }}\n              disabled={this.loading}\n            >\n              {translate('link_table.add_link_btn')}\n            </Button>\n          </section>\n\n          <div class=\"scroll-container\">\n            <main>\n              <div id=\"davwheat-sidenav--position-heading\">{translate('link_table.table.header.position')}</div>\n              <div id=\"davwheat-sidenav--icon-heading\">{translate('link_table.table.header.icon')}</div>\n              <div id=\"davwheat-sidenav--text-heading\">{translate('link_table.table.header.text')}</div>\n              <div id=\"davwheat-sidenav--url-heading\">{translate('link_table.table.header.url')}</div>\n              <div id=\"davwheat-sidenav--internal-heading\">{translate('link_table.table.header.internal')}</div>\n              <div id=\"davwheat-sidenav--delete-heading\">{translate('link_table.table.header.delete')}</div>\n\n              {this.linkData.map((link, i) => {\n                const validUrl = isValidUrl(link.url)\n                if (!validUrl) isAnyUrlInvalid = true\n\n                return [\n                  <div data-column=\"position\">\n                    <Button\n                      class=\"Button Button--icon\"\n                      icon=\"fas fa-arrow-up\"\n                      title={translate('link_table.table.tooltips.move_up')}\n                      disabled={i === 0 || this.loading}\n                      onclick={() => {\n                        if (i === 0 || !this.linkData) return\n\n                        this.linkData[i] = this.linkData[i - 1]\n                        this.linkData[i - 1] = link\n                      }}\n                    />\n                    <Button\n                      class=\"Button Button--icon\"\n                      icon=\"fas fa-arrow-down\"\n                      title={translate('link_table.table.tooltips.move_down')}\n                      disabled={i === (this.linkData?.length || 1) - 1 || this.loading}\n                      onclick={() => {\n                        if (i === (this.linkData?.length || 1) - 1 || !this.linkData) return\n\n                        this.linkData[i] = this.linkData[i + 1]\n                        this.linkData[i + 1] = link\n                      }}\n                    />\n                  </div>,\n                  <div data-column=\"icon\">\n                    <span class={`icon-preview fa-fw ${link.icon}`} title={translate('link_table.table.tooltips.icon_preview')} />\n                    <Input\n                      value={link.icon}\n                      onChange={(newValue: string) => {\n                        if (!this.linkData) return\n\n                        this.linkData[i].icon = newValue\n                        this.makeDirty()\n                      }}\n                      labelId=\"davwheat-sidenav--icon-heading\"\n                      placeholder={translate('link_table.table.placeholders.icon')}\n                      disabled={this.loading}\n                    />\n                  </div>,\n                  <div data-column=\"text\">\n                    <Input\n                      value={link.text}\n                      onChange={(newValue: string) => {\n                        if (!this.linkData) return\n\n                        this.linkData[i].text = newValue\n                        this.makeDirty()\n                      }}\n                      labelId=\"davwheat-sidenav--text-heading\"\n                      placeholder={translate('link_table.table.placeholders.text')}\n                      disabled={this.loading}\n                    />\n                  </div>,\n                  <div data-column=\"url\">\n                    <Input\n                      class={!validUrl && 'sidenav-input--invalid'}\n                      value={link.url}\n                      onChange={(newValue: string) => {\n                        if (!this.linkData) return\n\n                        this.linkData[i].url = newValue\n                        this.makeDirty()\n                      }}\n                      labelId=\"davwheat-sidenav--url-heading\"\n                      placeholder={translate('link_table.table.placeholders.url')}\n                      disabled={this.loading}\n                    />\n                  </div>,\n                  <div data-column=\"internal\">\n                    <Switch\n                      state={link.internal}\n                      onchange={(newValue: boolean) => {\n                        if (!this.linkData) return\n\n                        this.linkData[i].internal = newValue\n                        this.makeDirty()\n                      }}\n                      aria-labelled-by=\"davwheat-sidenav--url-heading\"\n                      disabled={this.loading}\n                    />\n                  </div>,\n                  <div data-column=\"delete\">\n                    <Button\n                      class=\"Button Button--icon\"\n                      icon=\"fas fa-trash\"\n                      aria-labelled-by=\"davwheat-sidenav--delete-heading\"\n                      onclick={() => {\n                        if (confirm(extractText(translate('link_table.confirm_delete', { link: link.text })))) {\n                          // Remove this link\n                          this.linkData?.splice(i, 1)\n                        }\n                      }}\n                      disabled={this.loading}\n                    />\n                  </div>,\n                ]\n              })}\n            </main>\n          </div>\n\n          <Button\n            onclick={this.saveSettings.bind(this)}\n            className=\"Button Button--primary\"\n            loading={this.loading}\n            disabled={isAnyUrlInvalid || !this.isDirty || this.loading}\n          >\n            {this.getButtonText(isAnyUrlInvalid)}\n          </Button>\n        </form>\n      </div>\n    )\n  }\n\n  private getButtonText(isAnyUrlInvalid: boolean): string[] {\n    this.isAnyUrlInvalid = isAnyUrlInvalid\n\n    if (this.isAnyUrlInvalid) return translate('link_table.save_btn.fix_errors')\n    if (this.loading) return translate('link_table.save_btn.saving')\n    if (this.isDirty) return translate('link_table.save_btn.dirty')\n\n    return translate('link_table.save_btn.saved')\n  }\n\n  createData(): void {\n    const rawData = this.rawLinkData\n    let json: SideNavLinkJSObject[]\n\n    try {\n      json = Object.freeze(JSON.parse(rawData))\n    } catch {\n      throw `Invalid JSON found in Flarum setting \\`${linkDataSettingsKey}\\`. We can't continue. Fix manually, or reset to \\`[]\\` in your DB.`\n    }\n\n    let finalData: SideNavLink[] = []\n\n    json.forEach(snl => finalData.push(SideNavLink.fromJsObject(snl)))\n\n    this.linkData = finalData\n  }\n\n  makeDirty() {\n    this.isDirty = true\n  }\n\n  saveSettings(e: MouseEvent) {\n    e.preventDefault()\n\n    if (this.isAnyUrlInvalid) {\n      app.alerts.show({ type: 'error' }, translate('link_table.alert.fix_errors'))\n      return\n    }\n\n    app.alerts.clear()\n    this.loading = true\n\n    const stringData = JSON.stringify(this.linkData)\n\n    return saveSettings({\n      [linkDataSettingsKey]: JSON.stringify(this.linkData),\n      'davwheat-custom-sidenav-links.position': this.linkPosition,\n      'davwheat-custom-sidenav-links.top-spacer': this.showTopSpacer,\n      'davwheat-custom-sidenav-links.bottom-spacer': this.showBottomSpacer,\n    }).then(this.onSettingsSaved.bind(this))\n  }\n\n  onSettingsSaved(): void {\n    this.loading = false\n    this.isDirty = false\n\n    app.alerts.show({ type: 'success' }, app.translator.trans('core.admin.settings.saved_message'))\n  }\n}\n","import SettingsPage from './components/SettingsPage'\n\napp.initializers.add('davwheat/custom-sidenav-links', app => {\n  // Debug line\n  // app.data.settings['davwheat-custom-sidenav-links.link-data'] = `[{\"icon\":\"icon1\",\"text\":\"text1\",\"url\":\"url1\",\"internal\":true}]`\n\n  app.extensionData.for('davwheat-custom-sidenav-links').registerPage(SettingsPage)\n})\n"],"sourceRoot":""}