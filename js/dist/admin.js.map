{"version":3,"file":"admin.js","mappings":"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","sources":["webpack://@davwheat/custom-sidenav-links/webpack/bootstrap","webpack://@davwheat/custom-sidenav-links/webpack/runtime/compat get default export","webpack://@davwheat/custom-sidenav-links/webpack/runtime/define property getters","webpack://@davwheat/custom-sidenav-links/webpack/runtime/hasOwnProperty shorthand","webpack://@davwheat/custom-sidenav-links/./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack://@davwheat/custom-sidenav-links/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@davwheat/custom-sidenav-links/external root \"flarum.core.compat['app']\"","webpack://@davwheat/custom-sidenav-links/external root \"flarum.core.compat['components/ExtensionPage']\"","webpack://@davwheat/custom-sidenav-links/external root \"flarum.core.compat['common/components/Button']\"","webpack://@davwheat/custom-sidenav-links/external root \"flarum.core.compat['common/components/Switch']\"","webpack://@davwheat/custom-sidenav-links/external root \"flarum.core.compat['common/components/LoadingIndicator']\"","webpack://@davwheat/custom-sidenav-links/external root \"flarum.core.compat['common/Component']\"","webpack://@davwheat/custom-sidenav-links/external root \"flarum.core.compat['common/utils/extractText']\"","webpack://@davwheat/custom-sidenav-links/./src/admin/components/Input.tsx","webpack://@davwheat/custom-sidenav-links/external root \"flarum.core.compat['common/components/Select']\"","webpack://@davwheat/custom-sidenav-links/./src/admin/components/Select.tsx","webpack://@davwheat/custom-sidenav-links/external root \"flarum.core.compat['common/utils/saveSettings']\"","webpack://@davwheat/custom-sidenav-links/./src/common/models/SideNavLink.ts","webpack://@davwheat/custom-sidenav-links/./src/admin/isValidUrl.ts","webpack://@davwheat/custom-sidenav-links/external root \"flarum.core.compat['common/components/Modal']\"","webpack://@davwheat/custom-sidenav-links/./src/admin/components/AddLinkModal.tsx","webpack://@davwheat/custom-sidenav-links/./src/admin/components/SettingsPage.tsx","webpack://@davwheat/custom-sidenav-links/./src/admin/index.ts"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  setPrototypeOf(subClass, superClass);\n}","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['app'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['components/ExtensionPage'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Button'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Switch'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/LoadingIndicator'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/Component'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/utils/extractText'];","import Component from 'flarum/common/Component';\r\nimport extractText from 'flarum/common/utils/extractText';\r\n\r\nexport default class SettingValueInput extends Component {\r\n  view() {\r\n    return (\r\n      <input\r\n        type=\"text\"\r\n        aria-labelled-by={this.attrs.labelId}\r\n        className={`FormControl ${this.attrs.class}`}\r\n        placeholder={extractText(this.attrs.placeholder)}\r\n        disabled={!!this.attrs.disabled}\r\n        value={this.attrs.value}\r\n        onchange={this.onChange.bind(this)}\r\n      />\r\n    );\r\n  }\r\n\r\n  onChange(e: InputEvent) {\r\n    if (typeof this.attrs.onChange === 'function') {\r\n      // @ts-ignore\r\n      const target: HTMLInputElement = e.target;\r\n      this.attrs.onChange(target.value, target);\r\n    }\r\n  }\r\n}\r\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Select'];","import Component from 'flarum/common/Component';\r\nimport Select from 'flarum/common/components/Select';\r\n\r\ninterface ISettingValueInputAttrs<T> {\r\n  class: string;\r\n  disabled: boolean;\r\n  value: string;\r\n  options: Array<{ value: T; label: string | string[] }>;\r\n  onChange?: (newValue: T) => void;\r\n}\r\n\r\nexport default class SettingValueInput<T> extends Component<ISettingValueInputAttrs<T>> {\r\n  view() {\r\n    return (\r\n      <Select\r\n        className={`FormControl ${this.attrs.class}`}\r\n        disabled={!!this.attrs.disabled}\r\n        value={this.attrs.value}\r\n        onchange={this.onChange.bind(this)}\r\n        options={this.attrs.options}\r\n      />\r\n    );\r\n  }\r\n\r\n  onChange(value: T) {\r\n    if (typeof this.attrs.onChange === 'function') {\r\n      this.attrs.onChange(value);\r\n    }\r\n  }\r\n}\r\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/utils/saveSettings'];","export interface SideNavLinkJSObject {\r\n  icon: string;\r\n  text: string;\r\n  url: string;\r\n  internal: boolean;\r\n}\r\n\r\nexport type LinksPosition = 'above-tags-link' | 'below-tags-link';\r\n\r\nexport default class SideNavLink {\r\n  /**\r\n   * Create instance of SideNavLink\r\n   *\r\n   * @param icon FontAwesome icon classes (e.g. `fas fa-link`)\r\n   * @param text Link text (e.g. `My cool site`)\r\n   * @param url Link URL (e.g. `https://flarum.org/`)\r\n   * @param internal Is link within forum? (e.g. `false`)\r\n   */\r\n  constructor(public icon: string, public text: string, public url: string, public internal: boolean) {\r\n    this.icon = icon;\r\n    this.text = text;\r\n    this.url = url;\r\n    this.internal = internal || false;\r\n  }\r\n\r\n  static fromJsObject(obj: SideNavLinkJSObject) {\r\n    return new SideNavLink(obj.icon, obj.text, obj.url, obj.internal);\r\n  }\r\n\r\n  public toString() {\r\n    return JSON.stringify({ icon: this.icon, text: this.text, url: this.url, internal: this.internal });\r\n  }\r\n\r\n  public toJSON() {\r\n    return { icon: this.icon, text: this.text, url: this.url, internal: this.internal };\r\n  }\r\n}\r\n","/**\r\n * Returns `true` if provided a valid URL, else `false`.\r\n *\r\n * A URL is considered valid if it...\r\n * - uses http or https protocols\r\n * - contains a `.` in the hostname\r\n * - is parsable with `new URL(...)`\r\n *\r\n * @param str URL string\r\n */\r\nexport default function isValidUrl(str: string) {\r\n  let url: URL;\r\n\r\n  try {\r\n    url = new URL(str);\r\n  } catch (_) {\r\n    return false;\r\n  }\r\n\r\n  return (url.protocol === 'http:' || url.protocol === 'https:') && url.hostname.includes('.');\r\n}\r\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Modal'];","import Modal from 'flarum/common/components/Modal';\r\n\r\nimport Button from 'flarum/common/components/Button';\r\nimport Switch from 'flarum/common/components/Switch';\r\nimport Input from './Input';\r\n\r\nimport extractText from 'flarum/common/utils/extractText';\r\n\r\nimport SideNavLink from '../../common/models/SideNavLink';\r\nimport isValidUrl from '../isValidUrl';\r\n\r\nconst translate = (key: string, data?: Record<string, unknown>): string[] =>\r\n  app.translator.trans(`davwheat.custom_sidenav_links.admin.settings_page.new_link_modal.${key}`, data);\r\n\r\nexport default class AddLinkModal extends Modal {\r\n  private loading = false;\r\n  private newLink: SideNavLink = new SideNavLink('', '', '', false);\r\n\r\n  className() {\r\n    return 'davwheat-sidenav-AddLinkModal Modal--small';\r\n  }\r\n\r\n  title() {\r\n    return extractText(translate('title'));\r\n  }\r\n\r\n  content() {\r\n    const validUrl = isValidUrl(this.newLink.url);\r\n\r\n    return (\r\n      <div className=\"Modal-body\">\r\n        <div className=\"Form\">\r\n          <div className=\"Form-group\">\r\n            <div>\r\n              <label>\r\n                {translate('labels.icon')}\r\n                <div class=\"icon-preview-container\">\r\n                  <span class={`icon-preview fa-fw ${this.newLink.icon}`} title={translate('table.icon_preview_tooltip')} />\r\n                  <Input\r\n                    value={this.newLink.icon}\r\n                    onChange={(newValue: string) => {\r\n                      this.newLink.icon = newValue;\r\n                    }}\r\n                    placeholder={translate('placeholders.icon')}\r\n                    disabled={false}\r\n                  />\r\n                </div>\r\n              </label>\r\n            </div>\r\n\r\n            <div>\r\n              <label>\r\n                {translate('labels.text')}\r\n                <Input\r\n                  value={this.newLink.text}\r\n                  onChange={(newValue: string) => {\r\n                    this.newLink.text = newValue;\r\n                  }}\r\n                  placeholder={translate('placeholders.text')}\r\n                  disabled={false}\r\n                />\r\n              </label>\r\n            </div>\r\n\r\n            <div>\r\n              <label>\r\n                {translate('labels.url')}\r\n                <Input\r\n                  class={!validUrl && 'sidenav-input--invalid'}\r\n                  value={this.newLink.url}\r\n                  onChange={(newValue: string) => {\r\n                    this.newLink.url = newValue;\r\n                  }}\r\n                  placeholder={translate('placeholders.url')}\r\n                  disabled={false}\r\n                />\r\n              </label>\r\n            </div>\r\n\r\n            <div>\r\n              <Switch\r\n                state={this.newLink.internal}\r\n                onchange={(newValue: boolean) => {\r\n                  this.newLink.internal = newValue;\r\n                }}\r\n                disabled={false}\r\n              >\r\n                {translate('labels.internal')}\r\n              </Switch>\r\n            </div>\r\n\r\n            <Button className=\"Button Button--primary\" type=\"submit\" disabled={!validUrl || this.loading || !this.isValid()} loading={this.loading}>\r\n              {this.getButtonText(validUrl)}\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  getButtonText(validUrl: boolean): string[] {\r\n    if (!validUrl) return translate('submit_btn.fix_url');\r\n    if (this.loading) return translate('submit_btn.loading');\r\n    if (!this.isValid()) return translate('submit_btn.invalid_form');\r\n\r\n    return translate('submit_btn.add');\r\n  }\r\n\r\n  isValid() {\r\n    return this.newLink.icon.trim() !== '' && this.newLink.text.trim() !== '' && this.newLink.url.trim() !== '';\r\n  }\r\n\r\n  onsubmit() {\r\n    this.loading = true;\r\n    this.hide.bind(this)();\r\n\r\n    this.attrs.links.push(this.newLink);\r\n  }\r\n}\r\n","import app from 'flarum/app';\r\nimport ExtensionPage from 'flarum/components/ExtensionPage';\r\n\r\nimport Button from 'flarum/common/components/Button';\r\nimport Switch from 'flarum/common/components/Switch';\r\nimport LoadingIndicator from 'flarum/common/components/LoadingIndicator';\r\nimport Input from './Input';\r\nimport Select from './Select';\r\n\r\nimport saveSettings from 'flarum/common/utils/saveSettings';\r\nimport extractText from 'flarum/common/utils/extractText';\r\n\r\nimport { default as SideNavLink, LinksPosition, SideNavLinkJSObject } from '../../common/models/SideNavLink';\r\nimport isValidUrl from '../isValidUrl';\r\nimport AddLinkModal from './AddLinkModal';\r\n\r\nconst linkDataSettingsKey = `davwheat-custom-sidenav-links.link-data`;\r\n\r\nconst translate = (key: string, data?: Record<string, unknown>): string[] =>\r\n  app.translator.trans(`davwheat.custom_sidenav_links.admin.settings_page.${key}`, data);\r\n\r\nexport default class FakeDataPage extends ExtensionPage {\r\n  private loading = false;\r\n  private isDirty = false;\r\n  private isAnyUrlInvalid = false;\r\n\r\n  /**\r\n   * IMPORTANT: Only evaluated on first draw! Edits to the link data are only performed to `this.linkData`.\r\n   */\r\n  private rawLinkData: string = app.data.settings['davwheat-custom-sidenav-links.link-data'];\r\n  private linkData: SideNavLink[] | null = null;\r\n\r\n  private linkPosition: LinksPosition = app.data.settings['davwheat-custom-sidenav-links.position'] || 'above-tags-link';\r\n  private showTopSpacer: boolean = app.data.settings['davwheat-custom-sidenav-links.top-spacer'] || true;\r\n  private showBottomSpacer: boolean = app.data.settings['davwheat-custom-sidenav-links.bottom-spacer'] || true;\r\n\r\n  oninit(vnode) {\r\n    super.oninit(vnode);\r\n\r\n    this.createData();\r\n  }\r\n\r\n  content() {\r\n    // Non-existant\r\n    if (!this.rawLinkData) {\r\n      return (\r\n        <p>\r\n          My settings key (<code>{linkDataSettingsKey}</code>) is missing from your database! Make sure you've run the migrations. If that doesn't\r\n          work, add it to your settings table manually with the content <code>[]</code>.\r\n        </p>\r\n      );\r\n    } else if (!this.linkData) {\r\n      return (\r\n        <div class=\"davwheat-ext-settings\">\r\n          <form>\r\n            <LoadingIndicator />\r\n          </form>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    let isAnyUrlInvalid = false;\r\n\r\n    return (\r\n      <div class=\"davwheat-ext-settings\">\r\n        <form>\r\n          <section className=\"davwheat-sidenav-addlink davwheat-custom-sidenav-links--display-options\">\r\n            <h2>{translate('display_options.heading')}</h2>\r\n\r\n            <label>\r\n              {translate('display_options.labels.position')}\r\n\r\n              <Select\r\n                value={this.linkPosition}\r\n                options={{\r\n                  'above-tags-link': translate('display_options.options.position.above-tags-link'),\r\n                  'below-tags-link': translate('display_options.options.position.below-tags-link'),\r\n                }}\r\n                disabled={this.loading}\r\n                onChange={(val: LinksPosition) => {\r\n                  this.linkPosition = val;\r\n                  this.makeDirty();\r\n                }}\r\n              />\r\n            </label>\r\n\r\n            <label>\r\n              {translate('display_options.labels.top_spacer')}\r\n\r\n              <Switch\r\n                state={this.showTopSpacer}\r\n                disabled={this.loading}\r\n                onchange={(val: boolean) => {\r\n                  this.showTopSpacer = val;\r\n                  this.makeDirty();\r\n                }}\r\n              />\r\n            </label>\r\n\r\n            <label>\r\n              {translate('display_options.labels.bottom_spacer')}\r\n\r\n              <Switch\r\n                state={this.showBottomSpacer}\r\n                disabled={this.loading}\r\n                onchange={(val: boolean) => {\r\n                  this.showBottomSpacer = val;\r\n                  this.makeDirty();\r\n                }}\r\n              />\r\n            </label>\r\n          </section>\r\n        </form>\r\n        <form>\r\n          <section class=\"davwheat-sidenav-addlink\">\r\n            <h2>{translate('link_table.heading')}</h2>\r\n            <Button\r\n              class=\"Button davwheat-sidenav-addlink-btn\"\r\n              icon=\"fas fa-plus\"\r\n              onclick={() => {\r\n                app.modal.show(AddLinkModal, { links: this.linkData });\r\n                this.makeDirty();\r\n              }}\r\n              disabled={this.loading}\r\n            >\r\n              {translate('link_table.add_link_btn')}\r\n            </Button>\r\n          </section>\r\n\r\n          <div class=\"scroll-container\">\r\n            <main>\r\n              <div id=\"davwheat-sidenav--position-heading\">{translate('link_table.table.header.position')}</div>\r\n              <div id=\"davwheat-sidenav--icon-heading\">{translate('link_table.table.header.icon')}</div>\r\n              <div id=\"davwheat-sidenav--text-heading\">{translate('link_table.table.header.text')}</div>\r\n              <div id=\"davwheat-sidenav--url-heading\">{translate('link_table.table.header.url')}</div>\r\n              <div id=\"davwheat-sidenav--internal-heading\">{translate('link_table.table.header.internal')}</div>\r\n              <div id=\"davwheat-sidenav--delete-heading\">{translate('link_table.table.header.delete')}</div>\r\n\r\n              {this.linkData.map((link, i) => {\r\n                const validUrl = isValidUrl(link.url);\r\n                if (!validUrl) isAnyUrlInvalid = true;\r\n\r\n                return [\r\n                  <div data-column=\"position\">\r\n                    <Button\r\n                      class=\"Button Button--icon\"\r\n                      icon=\"fas fa-arrow-up\"\r\n                      title={translate('link_table.table.tooltips.move_up')}\r\n                      disabled={i === 0 || this.loading}\r\n                      onclick={() => {\r\n                        if (i === 0 || !this.linkData) return;\r\n\r\n                        this.linkData[i] = this.linkData[i - 1];\r\n                        this.linkData[i - 1] = link;\r\n                      }}\r\n                    />\r\n                    <Button\r\n                      class=\"Button Button--icon\"\r\n                      icon=\"fas fa-arrow-down\"\r\n                      title={translate('link_table.table.tooltips.move_down')}\r\n                      disabled={i === (this.linkData?.length || 1) - 1 || this.loading}\r\n                      onclick={() => {\r\n                        if (i === (this.linkData?.length || 1) - 1 || !this.linkData) return;\r\n\r\n                        this.linkData[i] = this.linkData[i + 1];\r\n                        this.linkData[i + 1] = link;\r\n                      }}\r\n                    />\r\n                  </div>,\r\n                  <div data-column=\"icon\">\r\n                    <span class={`icon-preview fa-fw ${link.icon}`} title={translate('link_table.table.tooltips.icon_preview')} />\r\n                    <Input\r\n                      value={link.icon}\r\n                      onChange={(newValue: string) => {\r\n                        if (!this.linkData) return;\r\n\r\n                        this.linkData[i].icon = newValue;\r\n                        this.makeDirty();\r\n                      }}\r\n                      labelId=\"davwheat-sidenav--icon-heading\"\r\n                      placeholder={translate('link_table.table.placeholders.icon')}\r\n                      disabled={this.loading}\r\n                    />\r\n                  </div>,\r\n                  <div data-column=\"text\">\r\n                    <Input\r\n                      value={link.text}\r\n                      onChange={(newValue: string) => {\r\n                        if (!this.linkData) return;\r\n\r\n                        this.linkData[i].text = newValue;\r\n                        this.makeDirty();\r\n                      }}\r\n                      labelId=\"davwheat-sidenav--text-heading\"\r\n                      placeholder={translate('link_table.table.placeholders.text')}\r\n                      disabled={this.loading}\r\n                    />\r\n                  </div>,\r\n                  <div data-column=\"url\">\r\n                    <Input\r\n                      class={!validUrl && 'sidenav-input--invalid'}\r\n                      value={link.url}\r\n                      onChange={(newValue: string) => {\r\n                        if (!this.linkData) return;\r\n\r\n                        this.linkData[i].url = newValue;\r\n                        this.makeDirty();\r\n                      }}\r\n                      labelId=\"davwheat-sidenav--url-heading\"\r\n                      placeholder={translate('link_table.table.placeholders.url')}\r\n                      disabled={this.loading}\r\n                    />\r\n                  </div>,\r\n                  <div data-column=\"internal\">\r\n                    <Switch\r\n                      state={link.internal}\r\n                      onchange={(newValue: boolean) => {\r\n                        if (!this.linkData) return;\r\n\r\n                        this.linkData[i].internal = newValue;\r\n                        this.makeDirty();\r\n                      }}\r\n                      aria-labelled-by=\"davwheat-sidenav--url-heading\"\r\n                      disabled={this.loading}\r\n                    />\r\n                  </div>,\r\n                  <div data-column=\"delete\">\r\n                    <Button\r\n                      class=\"Button Button--icon\"\r\n                      icon=\"fas fa-trash\"\r\n                      aria-labelled-by=\"davwheat-sidenav--delete-heading\"\r\n                      onclick={() => {\r\n                        if (confirm(extractText(translate('link_table.confirm_delete', { link: link.text })))) {\r\n                          // Remove this link\r\n                          this.linkData?.splice(i, 1);\r\n                        }\r\n                      }}\r\n                      disabled={this.loading}\r\n                    />\r\n                  </div>,\r\n                ];\r\n              })}\r\n            </main>\r\n          </div>\r\n\r\n          <Button\r\n            onclick={this.saveSettings.bind(this)}\r\n            className=\"Button Button--primary\"\r\n            loading={this.loading}\r\n            disabled={isAnyUrlInvalid || !this.isDirty || this.loading}\r\n          >\r\n            {this.getButtonText(isAnyUrlInvalid)}\r\n          </Button>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  private getButtonText(isAnyUrlInvalid: boolean): string[] {\r\n    this.isAnyUrlInvalid = isAnyUrlInvalid;\r\n\r\n    if (this.isAnyUrlInvalid) return translate('link_table.save_btn.fix_errors');\r\n    if (this.loading) return translate('link_table.save_btn.saving');\r\n    if (this.isDirty) return translate('link_table.save_btn.dirty');\r\n\r\n    return translate('link_table.save_btn.saved');\r\n  }\r\n\r\n  createData(): void {\r\n    const rawData = this.rawLinkData;\r\n    let json: SideNavLinkJSObject[];\r\n\r\n    try {\r\n      json = Object.freeze(JSON.parse(rawData));\r\n    } catch {\r\n      throw `Invalid JSON found in Flarum setting \\`${linkDataSettingsKey}\\`. We can't continue. Fix manually, or reset to \\`[]\\` in your DB.`;\r\n    }\r\n\r\n    let finalData: SideNavLink[] = [];\r\n\r\n    json.forEach((snl) => finalData.push(SideNavLink.fromJsObject(snl)));\r\n\r\n    this.linkData = finalData;\r\n  }\r\n\r\n  makeDirty() {\r\n    this.isDirty = true;\r\n  }\r\n\r\n  saveSettings(e: MouseEvent) {\r\n    e.preventDefault();\r\n\r\n    if (this.isAnyUrlInvalid) {\r\n      app.alerts.show({ type: 'error' }, translate('link_table.alert.fix_errors'));\r\n      return;\r\n    }\r\n\r\n    app.alerts.clear();\r\n    this.loading = true;\r\n\r\n    const stringData = JSON.stringify(this.linkData);\r\n\r\n    return saveSettings({\r\n      [linkDataSettingsKey]: JSON.stringify(this.linkData),\r\n      'davwheat-custom-sidenav-links.position': this.linkPosition,\r\n      'davwheat-custom-sidenav-links.top-spacer': this.showTopSpacer,\r\n      'davwheat-custom-sidenav-links.bottom-spacer': this.showBottomSpacer,\r\n    }).then(this.onSettingsSaved.bind(this));\r\n  }\r\n\r\n  onSettingsSaved(): void {\r\n    this.loading = false;\r\n    this.isDirty = false;\r\n\r\n    app.alerts.show({ type: 'success' }, app.translator.trans('core.admin.settings.saved_message'));\r\n  }\r\n}\r\n","import SettingsPage from './components/SettingsPage';\r\n\r\napp.initializers.add('davwheat/custom-sidenav-links', (app) => {\r\n  // Debug line\r\n  // app.data.settings['davwheat-custom-sidenav-links.link-data'] = `[{\"icon\":\"icon1\",\"text\":\"text1\",\"url\":\"url1\",\"internal\":true}]`\r\n\r\n  app.extensionData.for('davwheat-custom-sidenav-links').registerPage(SettingsPage);\r\n});\r\n"],"names":["__webpack_require__","module","getter","__esModule","d","a","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","_setPrototypeOf","p","setPrototypeOf","__proto__","_inheritsLoose","subClass","superClass","create","constructor","flarum","core","compat","SettingValueInput","_Component","apply","arguments","_proto","view","m","type","this","attrs","labelId","className","placeholder","extractText","disabled","value","onchange","onChange","bind","e","target","Component","Select","options","SideNavLink","icon","text","url","internal","fromJsObject","toString","JSON","stringify","toJSON","isValidUrl","str","URL","_","protocol","hostname","includes","translate","data","app","translator","trans","AddLinkModal","_Modal","_this","_len","length","args","Array","_key","concat","loading","newLink","title","content","_this2","validUrl","class","Input","newValue","Switch","state","Button","isValid","getButtonText","trim","onsubmit","hide","links","push","Modal","linkDataSettingsKey","FakeDataPage","_ExtensionPage","isDirty","isAnyUrlInvalid","rawLinkData","settings","linkData","linkPosition","showTopSpacer","showBottomSpacer","oninit","vnode","createData","LoadingIndicator","val","makeDirty","onclick","show","id","map","link","i","_this2$linkData","_this2$linkData2","_this2$linkData3","confirm","splice","saveSettings","json","rawData","freeze","parse","_unused","finalData","forEach","snl","_saveSettings2","preventDefault","clear","then","onSettingsSaved","ExtensionPage","initializers","add","extensionData","registerPage","SettingsPage"],"sourceRoot":""}